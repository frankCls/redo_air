

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/WEB-INF/templateRealdolmen.xhtml">


	<ui:define name="content">

		<h1>passenger registration</h1>

		<h:form>


			<h:panelGrid columns="2" cellpadding="6">
				<h:panelGroup>
					<h:outputLabel for="ssn" value="ssn:" style="font-weight:bold"
						rendered="#{passengerBean.editable}" />
					<p:inputText id="ssn" value="#{passengerBean.ssn}"
						rendered="#{passengerBean.editable}">
						<f:ajax event="blur" render="firstnameerr"></f:ajax>
					</p:inputText>
					<h:message id="firstnameerr" for="ssn" />
					<h:outputLabel for="ssn2" value="ssn 2:" style="font-weight:bold"
						rendered="#{not passengerBean.editable}" />
					<h:outputText id="ssn2" value="#{passengerBean.ssn}"
						rendered="#{not passengerBean.editable}" />
				</h:panelGroup>


				<h:panelGroup>
					<h:outputLabel for="name" value="First name:"
						style="font-weight:bold" />
					<p:inputText id="name" value="#{passengerBean.firstName}" />
					<h:message for="name" />
				</h:panelGroup>
				<h:panelGroup>
					<h:outputLabel for="lname" value="Last name:"
						style="font-weight:bold" />
					<p:inputText id="lname" value="#{passengerBean.lastName}" />
					<h:message for="lname" />
				</h:panelGroup>
				<h:panelGroup>
					<h:outputLabel for="card" value="Bank account:"
						style="font-weight:bold" />
					<p:inputText id="card" value="#{passengerBean.creditcard.number}">
						<f:converter converterId="cardConverter" />

					</p:inputText>
					<h:message for="card" />
				</h:panelGroup>
				<h:panelGroup>
					<h:outputLabel for="ptype" value="Passenger type:"
						style="font-weight:bold" />
					<p:selectOneRadio id="ptype" value="#{passengerBean.passengerType}">
						<f:selectItem itemValue="REGULAR" itemLabel="REGULAR" />
						<f:selectItem itemValue="OCCASIONAL" itemLabel="OCCASIONAL" />
					</p:selectOneRadio>
				</h:panelGroup>
				<h:outputLabel for="bday" value="Date of birth"
					style="font-weight:bold" />
				<p:calendar id="bday" pattern="dd-MM-yyyy"
					value="#{passengerBean.dateOfbirth}">

				</p:calendar>
				<h:commandButton value="Submit"
					action="#{passengerBean.savePassenger()}" />

			</h:panelGrid>
		</h:form>

		
	</ui:define>



</ui:composition>
</html>
